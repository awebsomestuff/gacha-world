---
interface Props {
  title: string;
  description?: string;
}

const { title, description } = Astro.props;
const currentYear = new Date().getFullYear();
---

<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{title}</title>
  {description && <meta name="description" content={description} />}
  <link rel="icon" type="image/png" href="/favicon.png" />
  <link rel="canonical" href={Astro.url.href} />
</head>
<body>
  <header class="site-header" id="masthead">
    <div class="inside-header grid-container">
      <div class="site-logo">
        <a href="/">
          <img class="header-image is-logo-image" alt="Gacha World" src="/images/cropped-gacha-world.png" width="350" height="70" />
        </a>
      </div>
      <nav class="main-navigation" id="site-navigation">
        <button class="menu-toggle" aria-controls="primary-menu" aria-expanded="false">
          <svg viewBox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path d="M0 96c0-13.255 10.745-24 24-24h464c13.255 0 24 10.745 24 24s-10.745 24-24 24H24c-13.255 0-24-10.745-24-24zm0 160c0-13.255 10.745-24 24-24h464c13.255 0 24 10.745 24 24s-10.745 24-24 24H24c-13.255 0-24-10.745-24-24zm0 160c0-13.255 10.745-24 24-24h464c13.255 0 24 10.745 24 24s-10.745 24-24 24H24c-13.255 0-24-10.745-24-24z" /></svg>
          <span class="screen-reader-text">Menu</span>
        </button>
        <div id="primary-menu" class="main-nav">
          <ul class="menu">
            <li class="current-menu-item"><a href="/">Gacha World APK &#8211; Download MOD for Android and PC</a></li>
          </ul>
        </div>
      </nav>
    </div>
  </header>

  <div class="site grid-container container" id="page">
    <div class="site-content" id="content">
      <div class="content-area" id="primary">
        <main class="site-main">
          <slot />
        </main>
      </div>
    </div>
  </div>

  <div class="site-footer">
    <footer class="site-info">
      <div class="inside-site-info grid-container">
        <div class="copyright-bar">
          &copy; {currentYear} Gacha-World.Com |
          <a href="/privacy-policy/">Privacy Policy</a> |
          <a href="/terms-of-service/">Terms of Service</a>
        </div>
      </div>
    </footer>
  </div>

  <a title="Scroll back to top" aria-label="Scroll back to top" rel="nofollow" href="#" class="generate-back-to-top" id="back-to-top">
    <svg viewBox="0 0 330 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"><path d="M305.863 314.916c0 2.266-1.133 4.815-2.832 6.514l-14.157 14.163c-1.699 1.7-3.964 2.832-6.513 2.832-2.265 0-4.813-1.133-6.512-2.832L164.572 224.276 53.295 335.593c-1.699 1.7-4.247 2.832-6.512 2.832-2.265 0-4.814-1.133-6.513-2.832L26.113 321.43c-1.699-1.7-2.831-4.248-2.831-6.514s1.132-4.816 2.831-6.515L158.06 176.408c1.699-1.7 4.247-2.833 6.512-2.833 2.265 0 4.814 1.133 6.513 2.833L303.03 308.4c1.7 1.7 2.832 4.249 2.832 6.515z" /></svg>
  </a>

  <script>
    // Back to top button
    const btn = document.getElementById('back-to-top');
    if (btn) {
      window.addEventListener('scroll', () => {
        if (window.scrollY > 300) {
          btn.classList.add('show');
        } else {
          btn.classList.remove('show');
        }
      });
      btn.addEventListener('click', (e) => {
        e.preventDefault();
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    }

    // Mobile menu toggle
    const toggles = document.querySelectorAll('.menu-toggle');
    toggles.forEach(toggle => {
      toggle.addEventListener('click', () => {
        const nav = document.getElementById('primary-menu');
        const expanded = toggle.getAttribute('aria-expanded') === 'true';
        toggle.setAttribute('aria-expanded', String(!expanded));
        if (nav) nav.classList.toggle('toggled');
      });
    });

    // Spoiler toggles
    document.querySelectorAll('.su-spoiler-title').forEach(title => {
      title.addEventListener('click', () => {
        const spoiler = title.closest('.su-spoiler');
        if (spoiler) spoiler.classList.toggle('su-spoiler-closed');
      });
      title.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          title.click();
        }
      });
    });
  </script>
</body>
</html>

<style is:global>
  /* === BASE RESET & TYPOGRAPHY === */
  *, *::before, *::after {
    box-sizing: border-box;
  }

  :root {
    --contrast: #222222;
    --contrast-2: #575760;
    --contrast-3: #b2b2be;
    --base: #f0f0f0;
    --base-2: #f7f8f9;
    --base-3: #ffffff;
    --accent: #1e73be;
  }

  body {
    margin: 0;
    padding: 0;
    background-color: var(--base-3);
    color: var(--contrast);
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
    font-size: 16px;
    line-height: 1.5;
  }

  a {
    color: #ff5bfc;
    text-decoration: underline;
  }

  a:hover, a:focus, a:active {
    color: #32eff9;
  }

  img {
    max-width: 100%;
    height: auto;
  }

  .screen-reader-text {
    border: 0;
    clip-path: inset(50%);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
  }

  /* === GRID CONTAINER === */
  .grid-container {
    max-width: 1200px;
    margin-left: auto;
    margin-right: auto;
    padding-left: 20px;
    padding-right: 20px;
  }

  /* === HEADER === */
  .site-header {
    background-color: var(--contrast);
    color: var(--base-3);
  }

  .inside-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
  }

  .site-logo a {
    display: inline-block;
    text-decoration: none;
  }

  .header-image {
    display: block;
  }

  /* === NAVIGATION === */
  .main-navigation {
    background-color: var(--contrast);
  }

  .main-navigation .main-nav .menu {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
  }

  .main-navigation .main-nav .menu li a {
    color: var(--base-3);
    text-decoration: none;
    padding: 10px 20px;
    display: block;
    font-size: 15px;
  }

  .main-navigation .main-nav .menu li a:hover {
    color: var(--accent);
  }

  .main-navigation .main-nav .menu li.current-menu-item a {
    color: var(--accent);
  }

  .menu-toggle {
    display: none;
    background: rgba(0, 0, 0, 0.02);
    border: none;
    color: var(--base-3);
    padding: 10px;
    cursor: pointer;
    font-size: 1.2em;
  }

  .menu-toggle svg {
    fill: currentColor;
  }

  /* === MAIN CONTENT === */
  .site {
    padding: 0;
  }

  .site-content {
    padding: 0;
  }

  .content-area {
    width: 100%;
  }

  .inside-article {
    background-color: var(--base-3);
    padding: 40px;
  }

  .entry-content {
    line-height: 1.8;
  }

  .entry-content p {
    margin-bottom: 1.5em;
  }

  .entry-content h2 {
    font-size: 1.6em;
    margin-top: 1.5em;
    margin-bottom: 0.5em;
  }

  .entry-content h3 {
    font-size: 1.3em;
    margin-top: 1.2em;
    margin-bottom: 0.5em;
  }

  .entry-content h4 {
    font-size: 1.1em;
    margin-top: 1em;
    margin-bottom: 0.5em;
  }

  .entry-content ul, .entry-content ol {
    padding-left: 2em;
    margin-bottom: 1.5em;
  }

  .entry-content li {
    margin-bottom: 0.3em;
  }

  /* === SU ROW/COLUMN (Shortcode Replacement) === */
  .su-row {
    display: flex;
    flex-wrap: wrap;
    margin-left: -15px;
    margin-right: -15px;
  }

  .su-column {
    padding-left: 15px;
    padding-right: 15px;
    margin-bottom: 20px;
  }

  .su-column-1-2 {
    width: 50%;
  }

  .su-column-1-3 {
    width: 33.333%;
  }

  /* === SU TABLE === */
  .su-table {
    width: 100%;
    overflow-x: auto;
  }

  .su-table table {
    width: 100%;
    border-collapse: collapse;
  }

  .su-table table td {
    padding: 8px 12px;
    border-bottom: 1px solid var(--base);
  }

  .su-table table tr:last-child td {
    border-bottom: none;
  }

  /* === SU BUTTON === */
  .su-button {
    display: inline-block;
    padding: 12px 20px;
    background-color: #ff5bfc;
    color: #ffffff !important;
    text-decoration: none !important;
    border-radius: 4px;
    font-size: 14px;
    line-height: 1.4;
    text-align: center;
    transition: opacity 0.2s;
    width: 100%;
    cursor: pointer;
  }

  .su-button:hover {
    opacity: 0.85;
    color: #ffffff !important;
  }

  .su-button .su-button-icon {
    margin-right: 8px;
  }

  /* === SU BOX === */
  .su-box {
    border: 2px solid #ff5bfc;
    border-radius: 5px;
    margin: 20px 0;
    overflow: hidden;
  }

  .su-box-title {
    background-color: #ff5bfc;
    color: #ffffff;
    padding: 10px 15px;
    font-weight: bold;
    font-size: 1.1em;
  }

  .su-box-content {
    padding: 15px;
  }

  /* === SU SPOILER === */
  .su-spoiler {
    border: 1px solid var(--base);
    margin-bottom: 10px;
    border-radius: 4px;
    overflow: hidden;
  }

  .su-spoiler-title {
    padding: 12px 15px;
    cursor: pointer;
    background-color: var(--base-2);
    font-weight: bold;
    display: flex;
    align-items: center;
    user-select: none;
  }

  .su-spoiler-title:hover {
    background-color: var(--base);
  }

  .su-spoiler-icon {
    display: inline-block;
    width: 16px;
    height: 16px;
    margin-right: 10px;
    position: relative;
    flex-shrink: 0;
  }

  .su-spoiler-icon::before,
  .su-spoiler-icon::after {
    content: '';
    position: absolute;
    background-color: var(--contrast);
  }

  .su-spoiler-icon::before {
    top: 50%;
    left: 0;
    width: 100%;
    height: 2px;
    transform: translateY(-50%);
  }

  .su-spoiler-icon::after {
    top: 0;
    left: 50%;
    width: 2px;
    height: 100%;
    transform: translateX(-50%);
    transition: transform 0.2s;
  }

  .su-spoiler:not(.su-spoiler-closed) .su-spoiler-icon::after {
    transform: translateX(-50%) rotate(90deg);
  }

  .su-spoiler-content {
    padding: 15px;
    display: block;
  }

  .su-spoiler-closed .su-spoiler-content {
    display: none;
  }

  /* === FOOTER === */
  .site-footer {
    margin-top: 0;
  }

  .site-info {
    color: var(--base-3);
    background-color: var(--contrast);
    padding: 20px 0;
  }

  .site-info a {
    color: var(--base-3);
    text-decoration: none;
  }

  .site-info a:hover {
    color: #ff5bfc;
  }

  .copyright-bar {
    text-align: center;
    font-size: 14px;
  }

  /* === BACK TO TOP === */
  .generate-back-to-top {
    font-size: 20px;
    border-radius: 3px;
    position: fixed;
    bottom: 30px;
    right: 30px;
    line-height: 40px;
    width: 40px;
    height: 40px;
    text-align: center;
    z-index: 10;
    transition: opacity 300ms ease-in-out, transform 300ms ease-in-out;
    opacity: 0;
    transform: translateY(100px);
    background-color: #ff5bfc;
    color: #ffffff;
    display: flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
  }

  .generate-back-to-top svg {
    fill: currentColor;
    width: 1em;
    height: 1em;
  }

  .generate-back-to-top.show {
    opacity: 1;
    transform: translateY(0);
  }

  .generate-back-to-top:hover {
    background-color: #32eff9;
    color: #ffffff;
  }

  /* === RESPONSIVE === */
  @media (max-width: 768px) {
    .inside-article {
      padding: 30px;
    }

    .menu-toggle {
      display: block;
    }

    .main-navigation .main-nav {
      display: none;
    }

    .main-navigation .main-nav.toggled {
      display: block;
      width: 100%;
    }

    .main-navigation .main-nav .menu {
      flex-direction: column;
    }

    .su-row {
      flex-direction: column;
    }

    .su-column-1-2,
    .su-column-1-3 {
      width: 100%;
    }

    .inside-header {
      padding-left: 30px;
      padding-right: 30px;
    }

    .grid-container {
      padding-left: 15px;
      padding-right: 15px;
    }
  }

  /* === YOUTUBE EMBED === */
  .video-container {
    position: relative;
    padding-bottom: 56.25%;
    height: 0;
    overflow: hidden;
    max-width: 100%;
  }

  .video-container iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
</style>
